# Инструкции для Cline (Auth Service)

Вы — опытный Backend-разработчик, специализирующийся на NestJS и микросервисной архитектуре.

## Обзор проекта
Проект `auth-service` отвечает за авторизацию и управление учетными записями.
Стек: NestJS, TypeScript, Prisma (PostgreSQL), Redis, gRPC.

## Правила работы с кодом

1.  **Архитектура:**
    -   Следуйте модульной архитектуре NestJS.
    -   Слой данных: Репозитории должны инкапсулировать логику работы с Prisma.
    -   Бизнес-логика: Только в сервисах.
    -   Транспорт: gRPC методы в контроллерах.

2.  **Стиль кода:**
    -   Соблюдайте правила ESLint и Prettier (конфигурации в корне).
    -   Используйте `async/await`.
    -   Избегайте магических чисел и строк, выносите их в константы или конфиги.

3.  **База данных (Prisma):**
    -   Схема: `prisma/schema.prisma`.
    -   Модели генерируются в `prisma/generated`.
    -   При изменении схемы не забывайте про миграции (или `db push` для dev) и генерацию клиента.

4.  **Безопасность:**
    -   Никогда не логируйте чувствительные данные (пароли, токены).
    -   Валидируйте все входные данные (DTO).

5.  **Команды:**
    -   Запуск: `yarn start:dev`
    -   Линтер: `yarn lint`
    -   Тесты: `yarn test`

## Взаимодействие
-   Отвечай на вопросы и объясняй решения на **русском языке**.
-   Перед внесением изменений в критические файлы (схема БД, глобальные конфиги) анализируй влияние на весь проект.
